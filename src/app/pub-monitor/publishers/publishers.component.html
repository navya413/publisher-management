<div *ngIf="routeData.data.entity">
  <div>
    <!--<app-breadcrumb [segments]="breadcrumbSegments"></app-breadcrumb>-->
    <nav mat-tab-nav-bar style="background: #fff">
      <a mat-tab-link
         *ngFor="let link of childNavLinks"
         [routerLink]="link.path"
         routerLinkActive #rla="routerLinkActive"
         [active]="rla.isActive">
        {{link.label}}
      </a>
    </nav>
  </div>
  <div class="table-wrapper">
    <div class="head">
      <app-date-range
        class="date-selector"
        [rangeFormat]="'YYYY-MM-DD'"
        [selectedDay]="pubMonitorService.dateRange.days"
        (onDateRangeChange)="onDateRangeChange($event)">
      </app-date-range>
      <button mat-raised-button color="primary" class="select-btn" (click)=timezoneMenu.open()>
        <mat-select #timezoneMenu placeholder="Select Timezone" [(ngModel)]="pubMonitorService.timezoneId">
          <mat-option (click)="onTimezoneChange(timezone.id)" *ngFor="let timezone of pubMonitorService.timezones" [value]="timezone.id">{{timezone.value}} ({{timezone.id}})</mat-option>
        </mat-select>
      </button>
    </div>

    <app-stats-table [title]="routeData.data.subLevel ? routeData.data.subLevel : routeData.data.level"
                     [value]="statsData"
                     [loading]="loading"
                     (rowClick)="onRowClick($event)"
                     (reload)="onReload()"
                     [disableLink]="(routeData.data.subLevel)">
    </app-stats-table>
  </div>
</div>

<!--<div #table class="publisher-container">-->
  <!--<m-table [value]=publishers [selectable]="false" [selectionHandler]="false"-->
           <!--[sortLocal]="false" [sortField]="params.fields" (onSort)="onSortChange($event)"-->
           <!--(onPage)="onPageChange($event)"-->
           <!--(onRowClick)="onRowClick($event)">-->

    <!--<m-header>-->
      <!--<ng-template let-header >-->
        <!--<div class="card-header">-->

          <!--<div class="box-search">-->
            <!--<div class="box-search-icon">-->
              <!--<button mat-icon-button (click)="onQuerySearch(searchInput.value)">-->
                <!--<mat-icon class="mat-24" aria-label="Search icon">search</mat-icon>-->
              <!--</button>-->
            <!--</div>-->
            <!--<div class="box-search-input-wrapper">-->
              <!--<input #searchInput type="text" [(ngModel)]="params.query" [matAutocomplete]="auto" [formControl]="typeAheadCtrl" placeholder="Search...">-->
              <!--<mat-autocomplete #auto="matAutocomplete">-->
                <!--<mat-option class="dropdown-option" *ngFor="let item of filteredOptions | async"-->
                            <!--[value]="item">-->
                  <!--<span>{{ item }}</span>-->
                <!--</mat-option>-->
              <!--</mat-autocomplete>-->
            <!--</div>-->
          <!--</div>-->


          <!--<app-date-range [selectedDay]="pubMonitorService.selectedDay" [startDate]="pubMonitorService.startDate" [endDate]="pubMonitorService.endDate" (onDateRangeChange)="onDateRangeChange($event)"></app-date-range>-->

          <!--<div class="table-options">-->
            <!--&lt;!&ndash;<button mat-icon-button class="col-setting-btn">&ndash;&gt;-->
              <!--&lt;!&ndash;<mat-icon class="mat-24" aria-label="column">view_column</mat-icon>&ndash;&gt;-->
            <!--&lt;!&ndash;</button>&ndash;&gt;-->

            <!--&lt;!&ndash;<button mat-icon-button class="col-setting-btn" (click)="openDialog()">&ndash;&gt;-->
              <!--&lt;!&ndash;<mat-icon class="mat-24" aria-label="download">file_download</mat-icon>&ndash;&gt;-->
            <!--&lt;!&ndash;</button>&ndash;&gt;-->

            <!--<button mat-icon-button class="col-setting-btn" (click)="onRefresh()">-->
              <!--<mat-icon class="mat-24" aria-label="refresh">refresh</mat-icon>-->
            <!--</button>-->
          <!--</div>-->

        <!--</div>-->
      <!--</ng-template>-->
    <!--</m-header>-->
    <!--<m-footer [paginator]="true" [pageSize]="params.limit" [pageIndex]="params.page - 1" [pageSizeOptions]="[10,20,50]" [length]="publisherRes?.summary?.totalPlacements"></m-footer>-->

    <!--<m-column *ngIf="level !== 'agency'" field="status" header="Status" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--<i class="material-icons status-icon active" *ngIf="row.status=='A'">check_circle</i>-->
        <!--<i class="material-icons status-icon paused" *ngIf="row.status=='P'">pause_circle_filled</i>-->
        <!--<i class="material-icons status-icon inactive" *ngIf="row.status=='I'">add_circle</i>-->
      <!--</ng-template>-->
    <!--</m-column>-->
    <!--<m-column field="name" header="Publisher" [sortable]="true" [colBodyClass]="'left-sticky'" [colHeadClass]="'left-sticky'"></m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="CmClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Joveo</div>-->
        <!--<span>Clicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['cmStats']['clicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="CmBotClicks"[sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Joveo</div>-->
        <!--<span>BotClicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['cmStats']['botClicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="PubClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Publisher</div>-->
        <!--<span>Clicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['pubDataStats']['clicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="PubBotClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Publisher</div>-->
        <!--<span>BotClicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['pubDataStats']['botClicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="PubPortalClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">PubPortal</div>-->
        <!--<span>Clicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['pubPortalStats']['clicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="PubPortalBotClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">PubPortal</div>-->
        <!--<span>BotClicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['pubPortalStats']['botClicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="clicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Mojo</div>-->
        <!--<span>Clicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['mojoStats']['clicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="botclicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Mojo</div>-->
        <!--<span>BotClicks</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['stats']['mojoStats']['botClicks'].toLocaleString()}}-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="differencePubDataAndCmClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Discrepancy</div>-->
        <!--<span>CmAndPublisher</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['differencePubDataAndCm']['clicks']}} ({{row['discrepancyPubDataAndCm']['clicks']}}%)-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="differencePubDataAndPubPortalClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Discrepancy</div>-->
        <!--<span>CmAndPubPortal</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['differencePubDataAndPubPortal']['clicks']}} ({{row['discrepancyPubDataAndPubPortal']['clicks']}}%)-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<m-column colBodyClass="align-right" colHeadClass="align-right" field="differenceMojoAndPubPortalClicks" [sortable]="true">-->
      <!--<ng-template let-col let-row="row" mTemplate="header">-->
        <!--<div class="normal-linehight">Discrepancy</div>-->
        <!--<span>MojoAndPubPortal</span>-->
      <!--</ng-template>-->
      <!--<ng-template let-col let-row="row" mTemplate="body">-->
        <!--{{row['differenceMojoAndPubPortal']['clicks']}} ({{row['discrepancyMojoAndPubPortal']['clicks']}}%)-->
      <!--</ng-template>-->
    <!--</m-column>-->

    <!--<ng-template mTemplate="emptyTable">-->
      <!--<div *ngIf="loading" class="table-loading">-->
        <!--<mat-progress-bar mode="indeterminate"></mat-progress-bar>-->
        <!--<div>Loading...</div>-->
      <!--</div>-->
    <!--</ng-template>-->
  <!--</m-table>-->
<!--</div>-->
